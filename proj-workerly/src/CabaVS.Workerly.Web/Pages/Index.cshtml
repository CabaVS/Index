@page
@model CabaVS.Workerly.Web.Pages.Index
@{
    ViewData["Title"] = "Home";
}

<div class="card shadow-sm">
    <div class="card-body">
        <h2 class="h5 mb-3">Session</h2>

        @if (User.Identity?.IsAuthenticated ?? false)
        {
            <span class="badge text-bg-success mb-3"><i class="bi bi-check2-circle me-1"></i> Authenticated</span>

            <h3 class="h6 mt-3">Your claims</h3>
            <ul class="list-group list-group-flush small">
                @foreach (var c in User.Claims.OrderBy(x => x.Type))
                {
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <span class="text-body-secondary me-2">@c.Type</span>
                        <code class="text-wrap text-break">@c.Value</code>
                    </li>
                }
            </ul>
        }
        else
        {
            <span class="badge text-bg-secondary mb-3"><i class="bi bi-person-x me-1"></i> Anonymous</span>
            <p class="mb-0">Click <a class="link-primary" asp-page="/Auth/Login">Login</a> to sign in via Keycloak.</p>
        }
    </div>
</div>